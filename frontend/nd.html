<!DOCTYPE html>
<html>
    <head>
        <title>ND</title>
        <style>
            body {background: black; margin: 0; font-family: 'Roboto', sans-serif; user-select: none;}
            canvas {display: block; margin: auto; background: black;}
        </style>
    </head>
    <body>
        <canvas id="nd" width="400" height="500"></canvas>
        <script>
            let canvas = document.getElementById('nd');
            let ctx = canvas.getContext('2d');

            let ndRoseImg = new Image();
            ndRoseImg.src = 'nd_rose.png';

            let ws = new WebSocket("ws://127.0.0.1:8080/nd");
            ws.onmessage = (msg) => {
                let data = JSON.parse(msg.data);
                if (data.error) {
                    return;
                }
            }
            ws.onerror = (err) => {
                console.error("WebSocket Error:", err);
            };
            ws.onclose = () => {
                console.log("WebSocket connection closed.");
            };

            function drawRose() {
                ctx.save();
                ctx.drawImage(ndRoseImg, -ndRoseImg.width / 2, -ndRoseImg.height / 2);
            }
            function draw() {
                ctk.fillStyle = 'black';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                drawRose();

                requestAnimationFrame(draw);
            }
            draw();
        </script>
    </body>
</html>